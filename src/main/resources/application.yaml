server:
  port: ${PORT}
  servlet:
    context-path: /api

spring:
  application:
    name: isoproject
  jackson:
    default-property-inclusion: non_null
    serialization:
      write-dates-as-timestamps: false
      indent-output: true
    deserialization:
      fail-on-unknown-properties: false

atm:
  server:
    port: ${ATM_SERVER_PORT}
    threads: 20
    socket:
      timeout: 300000

esb:
  base-url: ${BASE_URL}
  withdrawal: ${WITHDRAWAL}
  deposit: ${DEPOSIT}
  purchase: ${PURCHASE}
  balance-inquiry: ${BALANCE_INQUIRY}
  mini-statement: ${MINI_STATEMENT}
  inter-switch-settlement-account: ${INTER_SWITCH_SETTLEMENT_ACCOUNT}
  tax-account: ${TAX_COLLECTION_ACCOUNT}
  pride-charge-account: ${PRIDE_CHARGE_COLLECTION_ACCOUNT}
  inter-switch-charge-account: ${INTER_SWITCH_CHARGE_COLLECTION_ACCOUNT}
  inter-switch-commissions-account: ${INTER_SWITCH_COMMISSION_COLLECTION_ACCOUNT}
  pride-commissions-settlement-account: ${PRIDE_COMMISSION_SETTLEMENT_ACCOUNT}
  connection-timeout: 60000
  read-timeout: 60000
  username: ${ESB_USERNAME}
  password: ${ESB_PASSWORD}
  ssl:
    verify: ${ESB_SSL_VERIFY:false}
  charges:
    excise:
      rate: ${ESB_CHARGES_EXCISE_RATE}           # e.g., 0.15 for 15%
    base:
      initial: ${ESB_CHARGES_BASE_INITIAL}     # first band charge (â‰¤ 500k)
      band-size: ${ESB_CHARGES_BASE_BAND_SIZE}
      increment: ${ESB_CHARGES_BASE_INCREMENT} # +1,000 per extra 500k
    pride:
      share-percent: ${ESB_CHARGES_PRIDE_SHARE_PERCENT} # 20%
    inter-switch:
      commission: ${INTER_SWITCH_COMMISSIONS}

  codes:
    SUCCESS: "00"
    INSUFFICIENT_FUNDS: "51"
    INVALID_ACCOUNT: "14"
    INVALID_PIN: "55"
    LIMIT_EXCEEDED: "61"
    TIMEOUT: "68"
    SYSTEM_ERROR: "96"

feign:
  client:
    config:
      default:
        connectTimeout: 60000
        readTimeout: 60000
        loggerLevel: full
      esb-client:
        connectTimeout: 60000
        readTimeout: 60000
        loggerLevel: full

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: when-authorized

logging:
  level:
    root: INFO
    com.pridebank.token: DEBUG
    feign: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"

---
spring:
  config:
    activate:
      on-profile: dev

logging:
  level:
    root: DEBUG
    com.pridebank.token: DEBUG
    feign: DEBUG

feign:
  client:
    config:
      esb-client:
        loggerLevel: full

---
spring:
  config:
    activate:
      on-profile: prod
